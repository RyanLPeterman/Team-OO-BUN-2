        -:    0:Source:connection.hpp
        -:    0:Programs:2
        -:    1:#ifndef CONNECTION_H
        -:    2:#define CONNECTION_H
        -:    3:
        -:    4:#include <array>
        -:    5:#include <memory>
        -:    6:#include <boost/asio.hpp>
        -:    7:#include <string>
        -:    8:
        -:    9:namespace http {
        -:   10:namespace server {
        -:   11:
    #####:   12:class connection
        -:   13:  : public std::enable_shared_from_this<connection>
        -:   14:{
        -:   15:public:
        -:   16:  connection(const connection&) = delete;
        -:   17:  connection& operator=(const connection&) = delete;
        -:   18:
        -:   19:  explicit connection(boost::asio::ip::tcp::socket socket);
        -:   20:
        -:   21:  void start();
        -:   22:
        -:   23:  void stop();
        -:   24:
        -:   25:  int getServerStatus(); 
        -:   26:
        -:   27:  void write_response(const char* m, const char* n); 
        -:   28:  
        -:   29:private:
        -:   30:  void do_read();
        -:   31:
        -:   32:  boost::asio::ip::tcp::socket socket_;
        -:   33:
        -:   34:  std::array<char, 8192> buffer_;
        -:   35:
        -:   36:  std::string reply_;
        -:   37:
        -:   38:  int serverStatus; // 1 success 0 unsuccessful -1 error
        -:   39:};
        -:   40:
        -:   41:typedef std::shared_ptr<connection> connection_ptr;
        -:   42:
        -:   43:} // namespace server
        -:   44:} // namespace http
        -:   45:
        -:   46:#endif // HTTP_CONNECTION_HPP
